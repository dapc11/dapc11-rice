#!/bin/bash

# echo -e "\n\tInstalling packages"
# echo "----------------------------------------------------"
#cat .installed.txt | cut -d" " -f1 | xargs sudo pacman -S --noconfirm -q --needed

pip3 install --user --requirement .requirements.txt

echo -e "\n\tSetting up fonts"
echo "----------------------------------------------------"
sudo mkdir -p /usr/local/share/fonts
sudo cp templates/fonts/* /usr/local/share/fonts
sudo chmod 777 -R /usr/local/share/fonts
sudo chown root:root -R /usr/local/share/fonts
fc-cache -fv

echo -e "\n\tInstalling Oh-My-Zsh"
echo "----------------------------------------------------"
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions

echo -e "\n\tGenerating dotfiles"
echo "----------------------------------------------------"
python3 rice_it -t themes/dracula.json -o

 echo -e "\n\tSetting up Suckless"
echo "----------------------------------------------------"
rm -rf dwm st
git clone https://github.com/dapc11/dwm.git
git clone https://github.com/dapc11/st.git
#cd dwm
#sudo make clean install
#cd ../st
#cd st
#sudo make clean install
#cd ..

xrdb ~/.Xresources
nitrogen --set-zoom-fill $HOME/.local/background.jpg || nitrogen random --set-zoom-fill /usr/share/backgrounds

echo -e "\nDone"
exit 0
